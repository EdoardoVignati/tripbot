language: java
jdk: oraclejdk8
env:
  global:
    - secure: Geo2qrBil5nbXF1rhnYHrzr92WKZjmqVY75ZHT/aJsc8V6/Y5NiJjHmf8p0WGGYTWclakVx9bq4bpNgn/ykxehbkvPclQHTJv/EY5K4Ss9/OfEywmqjh0Luw4rSxV118lSAPi79Oc4nMrDl7HzHBN+3lczPBnG0SOhWP3Jry/oX3TWUiG1gip+Hm53uLKc+9NgzqFLiqqCRxUk0YHzouvbZXLY41U/ObkIMGEg+01mkB0+3tHyeqQAXO1TPITXeuNrEzPQwb2xqoTmoY3H30p5uN9qnbxOhUoY8ZoZ1jTw4mkvjDqY4HXJyT65fehZJ3OXlp1GZ7Hn9RGlULOVrJ8w==
    - secure: bTgkVA/642GJh2hsLdbW/ewXwGgtIAMXrepY0GYepLoFlYlfeUOl6Q2XIjNQf6bexTd//bZ5b+4oAQT0tj7AQvUclgiRupyeoo+m+xylzdAYqsvy8JxZVfr9FIg/eINhA6DmT0JRR4Hf/3i73nkmLIxtpjDJ3oAqeCJWtkcWHEY5XiUcwbB6nrox4Yg/7rzuT2bwWLa+0tHZLh7P9I7M8TM51puL7mkAi4Ngzn15l7h1h4DOFJUPjkokCG4ILy09/BY1MHK6bd92ONQNWeGXf/3izMnpqqz7qbajLgzuFudhit3RHNBOzzG3aW9Y16QmBgFoZJeRVorwul0tWhqNTg==
    - secure: gN282IQ6s7b/n75MT+p9tWw2SBBQ7Oq6MmlZPcFK7huGjFe3h1XLUV07IlTzS+hvsDEXUB8plJHE0D0iHYM/5GhWHROqdg/MyBjS+29hviXMUxVRS21rLS5nMJ4LTPlpi96/MtFeav+aHb3U2PqhB53qU0FZRBsy2j2HafW329nVtGp3rRz1mZ3+YA49j1kBKJ3OWuw3G9TEZ0Y5aBD+QfqILI6/OqJOqBVZhps5Yds9EIAtqQO40xVka1AjqI2+1vVYlM5gylCW6d4P3fR+shcU9AA7cfv25u8I/mmbKQwFkKqX9JduxiizJ1rYDMG7Fq0jTY5UhgZeOSRxlKtV7g==
    - secure: e2WaEHAoEOjj+b6+aRGDEHYT65DF2fKiCnr9WTUJfxxsSyP0jDD6DL+ICndbLRd4sTZ8KFWL/ndXtjZRBKBDIeSQysfRgATZ7lU4WGnemhpjPPZp1JpV35fO36XWuccSmSdHZSos80Y5FqRhVvIr+k9r75UFWBAOm3feGTlrOResJAIly8oW7rip3aKox15MIH28QIvVIp9SSzbFSTjtDAJ8n08xxDFJlaeNbpBGIgW4MsheHVEXj6JYe/srZ9pB7rnHLNHVs6bIyfGgg4Vx6MimPTw7lvPw2FVikB0kwYMeiAQWoUm+89aTxaTx/DxiAsR3zR8T2VJeY2FVg43lgw==
    - secure: DcPdqLQzhuL+PDLRXoNWcbta+gzq84qun3RbNJLjsaR+CDtJTRdKQbXDV5UEeJCpuE1i8NIUcmDS8mVEb7g3gPCw2GQOdaZfYQ171R2v3Qgm/O9rORhQVoTm6PE8Dlglhm8J6L8kKyTB5NQExOTJfGVTk47PvDALLbsVdEiFQiOW71ggyMMPMV6n10mX+jrQwwdH+wYVfXeNsifsZ6+XfA0/VAr21Cn/SBSxYfIABKITMUNteq71eibn5Lfsc/rLP4BSiBswES5f3q/Et4wyvl2+9UgppxiI4DBt/kWENRTbYo1KDPiBz+8RSmquLstBUk3pBlNEsVkdeISbQm747g==

before_install:
  - curl -sLO https://raw.githubusercontent.com/rix0rrr/cover2cover/master/cover2cover.py
before_script:
  - mkdir -p shippable/codecoverage
script: ./gradlew check jacocoTestReport
after_script:
  - cp -rv build/test-results shippable/testresults
  - if [ -r build/reports/jacoco/test/jacocoTestReport.xml ]; then python cover2cover.py build/reports/jacoco/test/jacocoTestReport.xml src/main/java > shippable/codecoverage/coverage.xml; fi

